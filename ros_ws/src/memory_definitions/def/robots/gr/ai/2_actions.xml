<actions>
	<action ref="jack">
		<params/>
		<conditions/>
		<actions exec="all" order="linear">
			<orderref ref="ask_for_jack"/>
			<nextneedsprevious/>
			<orderref ref="wait_for_jack"/>
		</actions>
	</action>

	<!-- Action goup : sucks a module in and loads it in the robot's module chest
			No params, this only plays the load routine without moving the robot.-->
	<action ref="takein_module">
		<!-- The robot is already positioned, take it in -->
		<params>
		</params>
		<conditions>
			<chest ref = "robot_body_chest_modules" qty_left_min = "1" />
		</conditions>
		<actions exec="one">
			<orderref ref="actuator_open">
			</orderref>
			<orderref ref="delay">
				<duration>2</duration>
			</orderref>
			<orderref ref="actuator_close">
			</orderref>
		</actions>
	</action>

	<action ref="takeout_module">
		<!-- The robot is already positioned, take it in -->
		<params></params>
		<conditions>
			<chest ref = "robot_body_chest_modules" qty_in_min="1" />
		</conditions>
		<actions exec="all" order="random">
			<orderref ref="actuator_open">
			</orderref>
			<orderref ref="delay">
				<duration>2</duration>
			</orderref>
			<orderref ref="actuator_close">
			</orderref>
		</actions>
	</action>

	<!---->
	<!-- Action List : load module.
    		params :
    		- position (position object) : position where the module is. Position origin must be 'robot_origin_modulegripper' -->
	<action ref="load_module" name="Search and Load module" >
		<params>
		</params>
		<conditions>
			<chest ref="robot_body_chest_module_gripper" qty="full"/>
			<chest ref = "robot_body_chest_modules" qty_left_min = "1" />
		</conditions>
		<actions exec="all" order="linear">
			<orderref ref = "wheels_goto">
			</orderref>
			<nextneedsprevious/>
			<actionref ref="takein_module"/>
		</actions>
	</action>

	<action ref="unload_module" name = "Goto place and Unload module" reward="20">
		<params>
		</params>
		<conditions>
			<chest ref = "robot_body_chest_modules" qty_in_min = "1" />
		</conditions>
		<actions exec="all" order="linear">
			<orderref ref = "wheels_goto">
			</orderref>
			<nextneedsprevious/>
			<actionref ref="takeout_module"/>
		</actions>
	</action>

	<action ref="actuators_startup_sequence">
		<params></params>
		<conditions></conditions>
		<actions exec="all" order="mostreward">
			<orderref ref="actuator_startup_sequence"/>
			<orderref ref="actuator_startup_sequence"/>
			<orderref ref="actuator_startup_sequence"/>
			<actionref ref="unload_module"/>
		</actions>
	</action>
</actions>
