<actions>
	<action ref="jack">
		<params/>
		<conditions/>
		<actions exec="all" order="linear">
			<actionlist repeat="3">
				<orderref ref="ask_for_jack"/>
			</actionlist>
			<orderref ref="wait_for_jack"/>
		</actions>
	</action>

	<action ref="game_start" name="Game start routine actions">
		<params></params>
		<conditions></conditions>
		<actions>
			<team name="green">
				<orderref ref="set_robot_pos">
					<position>
						<x>0.114</x>
						<y>1.785</y>
						<theta>3.141592</theta>
					</position>
				</orderref>
			</team>
			<team name="orange">
				<orderref ref="set_robot_pos">
					<position>
						<x>2.886</x>
						<y>1.785</y>
						<theta>0.0</theta>
					</position>
				</orderref>
			</team>

			<actionref ref="jack"/>

			<orderref ref="timer_start">
				<duration>97</duration>
			</orderref>

			<orderref ref="set_game_status_ingame"/>
		</actions>
	</action>

	<action ref="activate_button" name="Go and activate Home Button" reward="25">
		<params></params>
		<conditions></conditions>
		<actions exec="all" order="linear">
			<orderref ref="asserv_goto_waypoint" name="approach button">
				<waypoint_name>way_button_approach</waypoint_name>
				<direction>0</direction>
			</orderref>

			<orderref ref="asserv_goto_waypoint" name="accost button">
				<waypoint_name>way_button_accost</waypoint_name>
			</orderref>

			<orderref ref="asserv_goto_waypoint" name="go back to approach">
				<waypoint_name>way_button_approach</waypoint_name>
				<direction>0</direction>
			</orderref>
		</actions>
	</action>

	<action ref="push_grape_1" name="Simply push grape 1 cubes to the zone" reward="25">
		<params></params>
		<conditions></conditions>
		<actions exec="all" order="linear">
			<orderref ref="asserv_goto_waypoint" name="go behind the cubes">
				<waypoint_name>way_grape_1_approach</waypoint_name>
				<direction>0</direction>
			</orderref>

			<orderref ref="map_set" name="disable grape collisions">
				<request_path>/objects/container_grape_1/collisions=0</request_path>
			</orderref>

			<orderref ref="asserv_goto_waypoint" name="go behind the cubes">
				<waypoint_name>way_grape_1_accost</waypoint_name>
			</orderref>

			<orderref ref="asserv_goto_waypoint" name="push them to the zone">
				<waypoint_name>way_grape_1_pushed</waypoint_name>
				<direction>0</direction>
			</orderref>

			<orderref ref="asserv_goto_waypoint" name="push them to the zone">
				<waypoint_name>way_grape_1_released</waypoint_name>
			</orderref>

			<orderref ref="map_set" name="enable grape collisions back">
				<request_path>/objects/container_grape_1/collisions=1</request_path>
			</orderref>


		</actions>
	</action>

	<action ref="push_grape_2" name="Simply push grape 2 cubes to the zone" reward="25">
		<params></params>
		<conditions></conditions>
		<actions exec="all" order="linear">
			<orderref ref="asserv_goto_waypoint" name="go behind the cubes">
                                <waypoint_name>way_grape_2_approach</waypoint_name>
                        </orderref>

			<orderref ref="map_set" name="disable grape collisions">
				<request_path>/objects/container_grape_2/collisions=0</request_path>
			</orderref>

                        <orderref ref="asserv_goto_waypoint" name="go behind the cubes">
                                <waypoint_name>way_grape_2_accost</waypoint_name>
				<direction>0</direction>
                        </orderref>

			<orderref ref="asserv_goto_waypoint" name="push them to the zone">
                                <waypoint_name>way_grape_2_pushed</waypoint_name>
                                <direction>0</direction>
                        </orderref>

                        <orderref ref="asserv_goto_waypoint" name="release">
                                <waypoint_name>way_grape_2_released</waypoint_name>
                        </orderref>

			<orderref ref="map_set" name="enable grape collisions back">
				<request_path>/objects/container_grape_2/collisions=1</request_path>
			</orderref>
		</actions>
	</action>

	<action ref="activate_bee" name="activate bee">
		<params></params>
		<conditions></conditions>
		<actions>
			<orderref ref="asserv_goto_waypoint" name="goto bee approach">
                                <waypoint_name>way_bee_approach</waypoint_name>
                        </orderref>

			<orderref ref="asserv_goto_waypoint" name="goto bee accost">
                                <waypoint_name>way_bee_accost</waypoint_name>
                        </orderref>

                        <orderref ref="asserv_goto_waypoint" name="goto bee accost">
                                <waypoint_name>way_bee_approach</waypoint_name>
				<direction>0</direction>
                        </orderref>
		</actions>
	</action>
</actions>
